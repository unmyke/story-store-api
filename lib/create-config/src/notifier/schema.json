{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "/schemas/config/notifier.json",
  "title": "Notifier configuration",
  "type": "object",
  "properties": {
    "region": {
      "title": "AWS S3 region",
      "type": "string",
      "pattern": "^[a-z0-9-]+$"
    },
    "baseArn": {
      "title": "AWS SNS base ARN (arn:sns.{region}:{account_id})",
      "type": "string",
      "format": "uri",
      "pattern": "^arn:aws:sns:[a-z]{2}-[a-z]+-\\d+:\\d+$"
    },
    "topics": {
      "title": "Notifier topics",
      "type": "object",
      "properties": {
        "createProduct": {
          "title": "Create product notifications topic",
          "type": "string",
          "minLength": 1
        }
      },
      "required": ["createProduct"],
      "additionalProperties": false
    }
  },
  "required": ["region", "baseArn", "topics"],
  "additionalProperties": false
}
